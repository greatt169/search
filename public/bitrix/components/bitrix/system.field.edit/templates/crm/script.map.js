{"version":3,"sources":["script.js"],"names":["BX","CrmEntitySelector","parameters","this","randomString","jsObject","fieldUid","fieldName","usePrefix","listPrefix","multiple","listElement","listEntityType","pluralCreation","Boolean","listEntityCreateUrl","currentEntityType","context","initialize","prototype","popupObject","popupId","popupBindElement","popupContent","externalRequestData","externalEventHandler","addCustomEvent","proxy","setSelectedElement","unsetSelectedElement","createNewEntity","event","window","currentTarget","createPopup","performExternalRequest","entityType","popupWindow","close","setCurrentEntityType","url","util","add_url_param","getCreateUrl","external_context","wnd","open","delegate","onExternalEvent","params","key","type","isNotEmptyString","value","isPlainObject","typeName","toUpperCase","isCanceled","isBoolean","k","length","entityInfo","push","initWidgetEntitySelection","popupItems","text","message","onclick","PopupMenu","getMenuById","buttonRect","getBoundingClientRect","create","closeByEsc","angle","offsetLeft","width","show","hasOwnProperty","itemInfo","id","selected","loadCSS","loadScript","CRM","Set","lead","contact","company","deal","quote","order","ok","cancel","wait","noresult","add","edit","search","last"],"mappings":"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","file":""}