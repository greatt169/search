(function(){"use strict";BX.namespace("BX.Landing.Block.Node");BX.Landing.Block.Node.Icon=function(t){BX.Landing.Block.Node.Img.apply(this,arguments)};function t(t){return t.node.className.split(" ")}function n(t,n){BX.Landing.UI.Panel.Icon.getInstance().libraries.forEach(function(n){n.categories.forEach(function(n){n.items.forEach(function(n){var e=n.split(" ");e.forEach(function(n){if(n){t.node.classList.remove(n)}})})})});n.classList.forEach(function(n){t.node.classList.add(n)})}BX.Landing.Block.Node.Icon.prototype={constructor:BX.Landing.Block.Node.Icon,__proto__:BX.Landing.Block.Node.Img.prototype,getField:function(){if(!this.field){this.field=new BX.Landing.UI.Field.Icon({selector:this.selector,title:this.manifest.name,content:this.getValue(),dimensions:!!this.manifest.dimensions?this.manifest.dimensions:{}})}else{this.field.content=this.getValue()}return this.field},setValue:function(t,e,i){this.lastValue=this.lastValue||this.getValue();this.preventSave(e);n(this,t);this.onChange();if(!i){BX.Landing.History.getInstance().push(new BX.Landing.History.Entry({block:top.BX.Landing.Block.storage.getByChildNode(this.node).id,selector:this.selector,command:"editIcon",undo:this.lastValue,redo:this.getValue()}))}this.lastValue=this.getValue()},getValue:function(){return{type:"icon",src:"",id:-1,alt:"",classList:t(this)}}}})();