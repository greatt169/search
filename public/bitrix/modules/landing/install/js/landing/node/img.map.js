{"version":3,"sources":["img.js"],"names":["BX","namespace","attr","Landing","Utils","Block","Node","Img","options","apply","this","arguments","editPanel","lastValue","field","uploadParams","isGrouped","node","addEventListener","onClick","bind","isAllowInlineEdit","setAttribute","message","isBackground","nodeName","isImage","isIcon","getBackgroundUrl","background","style","backgroundImage","slice","replace","getFileId","fileId","parseInt","dataset","fileid","getAlt","alt","getImageSrc","src","setImageValue","value","newNode","create","attrs","data-fileid","id","parentNode","insertBefore","remove","setBackgroundValue","prototype","__proto__","constructor","event","manifest","allowInlineEdit","Main","getInstance","isControlsEnabled","Text","currentNode","isEditable","UI","Panel","StylePanel","isShown","preventDefault","stopPropagation","Button","FontAction","hideAll","ColorAction","Content","selector","title","className","appendFooterButton","BaseButton","text","save","hide","document","body","appendChild","layout","form","Form","BaseForm","name","addField","getField","clear","appendForm","show","EditorPanel","SmallEditorPanel","forms","fields","getValue","JSON","stringify","setValue","description","dimensions","width","height","Field","Image","content","disableAltField","requestAnimationFrame","adjustPreviewBackgroundSize","preventSave","preventHistory","decodeURIComponent","onChange","History","push","Entry","block","top","storage","getByChildNode","command","undo","redo","type"],"mappings":"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","file":""}