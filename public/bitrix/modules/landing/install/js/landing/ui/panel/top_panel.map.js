{"version":3,"sources":["top_panel.js"],"names":["BX","namespace","removeClass","Landing","Utils","addClass","onCustomEvent","bind","makeFilterablePopupMenu","makeSelectablePopupMenu","style","encodeDataValue","Menu","UI","Tool","Panel","Top","id","data","BasePanel","apply","this","arguments","layout","top","document","querySelector","siteButton","pageButton","undoButton","redoButton","desktopButton","tabletButton","mobileButton","iframe","lastActive","loader","onDesktopSizeChange","onTabletSizeChange","onMobileSizeChange","onIframeClick","onSiteButtonClick","onPageButtonClick","onUndo","onRedo","onKeyDown","adjustHistoryButtonsState","contentDocument","window","sitesCount","parseInt","Main","getInstance","options","sites_count","pagesCount","pages_count","History","instance","prototype","constructor","__proto__","superclass","event","key","keyCode","which","navigator","userAgent","match","ctrlKey","metaKey","shiftKey","preventDefault","canUndo","getLoader","show","undo","then","hide","canRedo","redo","Loader","size","offset","left","stroke-width","history","classList","remove","add","DOM","write","width","dataset","postfix","enableControls","disableControls","siteMenu","bindElement","events","onPopupClose","blur","menuShowDelay","offsetTop","popupWindow","contentContainer","minHeight","minWidth","siteId","site_id","landingId","filter","=TYPE","params","type","URLList","getSites","sites","forEach","site","addMenuItem","ID","text","TITLE","items","editMask","sef_url","site_edit","showMask","site_show","push","message","href","replace","requestAnimationFrame","pageMenu","getLandings","landings","landing","FOLDER_ID","landing_edit","viewMask","landing_view","FOLDER","siteShowMask","SITE_ID","close"],"mappings":"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","file":""}