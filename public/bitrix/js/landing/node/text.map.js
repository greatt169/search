{"version":3,"sources":["text.js"],"names":["BX","namespace","escapeText","Landing","Utils","headerTagMatcher","Matchers","headerTag","russianTextMatcher","russianText","changeTagName","textToPlaceholders","Block","Node","Text","options","apply","this","arguments","onClick","bind","onPaste","onDrop","onInput","onMousedown","onMouseup","node","addEventListener","document","currentNode","prototype","__proto__","superClass","constructor","onAllowInlineEdit","setAttribute","message","onChange","preventAdjustPosition","preventHistory","call","containsRussianText","buttons","getGlavredButton","getDesignButton","UI","Panel","EditorPanel","getInstance","show","adjustPosition","History","push","Entry","block","top","storage","getByChildNode","id","selector","command","undo","lastValue","redo","getValue","event","clearTimeout","inputTimeout","key","keyCode","which","window","navigator","userAgent","match","ctrlKey","metaKey","setTimeout","onEscapePress","isEditable","hide","disableEdit","preventDefault","clipboardData","getData","execCommand","onDocumentClick","fromNode","manifest","allowInlineEdit","Main","isControlsEnabled","stopPropagation","enableEdit","Tool","ColorPicker","hideAll","Button","FontAction","requestAnimationFrame","target","nodeName","parentElement","range","createRange","selectNode","getSelection","removeAllRanges","addRange","isContentEditable","StylePanel","isShown","isHeader","getChangeTagButton","changeHandler","onChangeTag","contentEditable","focus","designButton","Design","html","attrs","title","onDesignShow","code","glavredButton","EditorAction","onGlavredButtonClick","buttonHTML","layout","innerHTML","buttonRect","getBoundingClientRect","loader","Card","Loader","style","width","overflow","appendChild","classList","add","Client","Glavred","proofread","then","remove","removeMarkup","isAllowInlineEdit","getField","field","Field","name","content","changeTagButton","setValue","value","preventSave","isSavePrevented","util","htmlspecialcharsback","test","ChangeTag","insertAfter","activateItem","data","changeOptionsHandler"],"mappings":"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","file":""}