(function(){"use strict";BX.namespace("BX.Landing.Block");BX.Landing.Block.Node=function(n){this.node=n.node;this.manifest=typeof n.manifest==="object"?n.manifest:{};this.selector=typeof n.selector==="string"?n.selector:"";this.onChangeHandler=typeof n.onChange==="function"?n.onChange:function(){};this.onDesignShow=typeof n.onDesignShow==="function"?n.onDesignShow:function(){};this.changeOptionsHandler=typeof n.onChangeOptions==="function"?n.onChangeOptions:function(){};this.onDocumentClick=this.onDocumentClick.bind(this);this.onDocumentKeydown=this.onDocumentKeydown.bind(this);document.addEventListener("click",this.onDocumentClick);document.addEventListener("keydown",this.onDocumentKeydown);Object.freeze(this.manifest);this.node.dataset.selector=this.selector;if(this.isAllowInlineEdit()){this.onAllowInlineEdit()}};BX.Landing.Block.Node.storage=[];BX.Landing.Block.Node.prototype={onDocumentClick:function(n){},onDocumentKeydown:function(n){if(n.keyCode===27){this.onEscapePress()}},onEscapePress:function(){},getField:function(){throw new Error("Must be implemented by subclass")},showEditor:function(){},hideEditor:function(){},onAllowInlineEdit:function(){},isAllowInlineEdit:function(){return this.manifest.allowInlineEdit!==false},isGrouped:function(){return typeof this.manifest.group==="string"&&this.manifest.group.length>0},setValue:function(n,e,t){throw new Error("Must be implemented by subclass")},getValue:function(){throw new Error("Must be implemented by subclass")},onChange:function(){this.onChangeHandler.apply(null,[this])},getIndex:function(){var n=parseInt(this.selector.split("@")[1]);n=n===n?n:0;return n},preventSave:function(n){this.isSavePreventedValue=n},isSavePrevented:function(){return!!this.isSavePreventedValue}}})();