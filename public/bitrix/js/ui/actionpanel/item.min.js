(function(){"use strict";BX.namespace("BX.UI");BX.UI.ActionPanel.Item=function(t){this.id=t.id;this.text=t.text;this.icon=t.icon;this.onclick=t.onclick;this.href=t.href;this.items=t.items;this.actionPanel=t.actionPanel;this.options=t;this.layout={container:null,icon:null,text:null}};BX.UI.ActionPanel.Item.prototype={render:function(){var t;this.href?t="a":t="div";this.layout.container=BX.create(t,{attrs:{className:"ui-action-panel-item"},children:[this.icon?'<span class="ui-action-panel-item-icon"><img src="'+this.icon+'" title=" "></span>':null,this.text?'<span class="ui-action-panel-item-title">'+this.text+"</span>":null],events:{click:this.handleClick.bind(this)}});this.href?this.layout.container.setAttribute("href",this.href):null;this.href?this.layout.container.setAttribute("title",this.text):null;BX.bind(window,"resize",BX.throttle(function(){if(this.layout.container.offsetTop>8){this.actionPanel.addHiddenItem(this);!this.actionPanel.layout.more?this.actionPanel.appendMoreBlock():null;return}if(this.layout.container.offsetTop<=8){this.actionPanel.removeHiddenItem(this);this.actionPanel.layout.more?this.actionPanel.removeMoreBlock():null}}.bind(this),20));if(this.options.hide){this.hide()}return this.layout.container},show:function(){BX.show(this.layout.container,"block")},hide:function(){BX.hide(this.layout.container,"none")},destroy:function(){BX.remove(this.layout.container)},isVisible:function(){if(this.layout.container.offsetTop>8){return false}return true},handleClick:function(event){if(this.items){this.openSubMenu()}else{if(BX.type.isString(this.onclick)){eval(this.onclick)}else if(BX.type.isFunction(this.onclick)){this.onclick.call(this,event,this)}}},openSubMenu:function(){if(!this.items){return}var t=this.layout.container;var i=BX.PopupMenu.create("ui-action-panel-item-popup-menu",t,this.items,{className:"ui-action-panel-item-popup-menu",angle:true,offsetLeft:t.offsetWidth/2,closeByEsc:true,events:{onPopupClose:function(){i.destroy();BX.removeClass(t,"ui-action-panel-item-active")}}});i.layout.menuContainer.setAttribute("data-tile-grid","tile-grid-stop-close");i.show();BX.addClass(this.layout.container,"ui-action-panel-item-active")}}})();