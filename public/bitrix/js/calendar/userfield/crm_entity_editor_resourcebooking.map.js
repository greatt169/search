{"version":3,"sources":["crm_entity_editor_resourcebooking.js"],"names":["BX","namespace","initCalendarEntityEditorUserFieldConfigurator","Calendar","UserField","EntityEditorUserFieldConfigurator","superclass","constructor","apply","this","extend","Crm","create","id","settings","self","initialize","prototype","layout","options","params","_hasLayout","type","isPlainObject","_mode","EntityEditorMode","view","getBitrix24Limitation","callback","delegate","limit","RESOURCE_LIMIT","_field","fieldInfo","getFieldInfo","getDefaultUserfieldSettings","displayCallback","_wrapper","props","className","_innerWrapper","appendChild","fieldSettings","SETTINGS","resourceList","selectedResourceList","isNew","title","getMessage","manager","_editor","getUserFieldManager","label","getTitle","getDefaultFieldLabel","_typeId","_labelInput","attrs","value","children","text","message","ResourceBooking","ModeSelector","useResources","USE_RESOURCES","useUsers","USE_USERS","showUsers","hide","userList","show","showResources","showResourcesAndUsers","getOuterWrap","optionWrapper","resourcesWrap","resourcesTitleWrap","resourcesListWrap","resourcesListLowControls","RESOURCES","isArray","SECTIONS","forEach","resource","push","ID","NAME","CAL_TYPE","SELECTED_RESOURCES","ResourceListSelector","shown","editMode","outerWrap","listWrap","controlsWrap","values","checkLimitCallback","proxy","checkResourceCountLimit","userSelectorWrap","usersTitleWrap","usersListWrap","itemsSelected","SELECTED_USERS","user","parseInt","UserSelector","wrapNode","socnetDestination","getSocnetDestination","datetimeOptionsWrap","datetimeOptionsInnerWrap","_fulldayCheckBox","checked","FULL_DAY","_servicesCheckBox","USE_SERVICES","events","click","serviceList","ServiceList","outerCont","onFullClearHandler","getFullDayValue","additionaOptionsWrap","_isRequiredCheckBox","isRequired","_showAlwaysCheckBox","prop","getBoolean","_settings","checkOptionFlag","EntityEditorControlOptions","showAlways","_overbookingCheckBox","ALLOW_OVERBOOKING","onSaveButtonClick","onCancelButtonClick","registerLayout","ajax","runAction","data","then","response","isFunction","createUserListControl","UserListSelector","_isLocked","getTotalResourceCount","showLimitationPopup","typeId","mandatory","multiple","isShown","getSelectedValues","getDeletedValues","getAttendeesCodesList","code","substr","SERVICE_LIST","getValues","onCustomEvent","result","length","addCustomEvent","window"],"mappings":"CAAC,WAEA,aACAA,GAAGC,UAAU,yBAEb,SAASC,IAERF,GAAGG,SAASC,UAAUC,kCAAoC,WAEzDL,GAAGG,SAASC,UAAUC,kCAAkCC,WAAWC,YAAYC,MAAMC,OAEtFT,GAAGU,OAAOV,GAAGG,SAASC,UAAUC,kCAAmCL,GAAGW,IAAIN,mCAE1EL,GAAGG,SAASC,UAAUC,kCAAkCO,OAAS,SAASC,EAAIC,GAE7E,IAAIC,EAAO,IAAIf,GAAGG,SAASC,UAAUC,kCACrCU,EAAKC,WAAWH,EAAIC,GACpB,OAAOC,GAGRf,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUC,OAAS,SAASC,EAASC,GAE5F,GAAGX,KAAKY,WACR,CACC,OAED,IAAIrB,GAAGsB,KAAKC,cAAcH,GAC1B,CACCA,KAGD,GAAGX,KAAKe,QAAUxB,GAAGW,IAAIc,iBAAiBC,KAC1C,CACC,KAAM,sFAGPjB,KAAKkB,uBACJC,SAAU5B,GAAG6B,SAAS,SAASC,GAE9BrB,KAAKsB,eAAiBD,GACpBrB,QAGJ,GAAGA,KAAKuB,OACR,CACCvB,KAAKwB,UAAYxB,KAAKuB,OAAOE,oBAEzB,IAAKd,EAAON,SACjB,CACC,OAAOL,KAAK0B,6BACXC,gBAAiBpC,GAAG6B,SAAS,SAASf,GAErCL,KAAKS,OAAOC,GAAUL,SAAUA,KAC9BL,QAILA,KAAK4B,SAAWrC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,mCACrD9B,KAAK+B,cAAgB/B,KAAK4B,SACxBI,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,+CACjDE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,gDAEnD,IACCG,EAAgBjC,KAAKwB,UAAYxB,KAAKwB,UAAUU,SAAWvB,EAAON,SAClE8B,KACAC,KACAC,EAAQrC,KAAKuB,SAAW,KACxBe,EAAQtC,KAAKuC,WAAW,cACxBC,EAAUxC,KAAKyC,QAAQC,sBACvBC,EAAQ3C,KAAKuB,OAASvB,KAAKuB,OAAOqB,WAAaJ,EAAQK,qBAAqB7C,KAAK8C,SAElF9C,KAAKsB,eAAiBW,EAAcX,gBAAkB,EAGtDtB,KAAK+C,YAAcxD,GAAGY,OAAO,SAE3B6C,OAEClB,UAAW,kCACXjB,KAAM,OACNoC,MAAON,KAKV3C,KAAK+B,cAAcC,YAClBzC,GAAGY,OACF,OAEC0B,OAASC,UAAW,uCACpBoB,UAGE3D,GAAGY,OACF,OAEC0B,OAASC,UAAW,yCACpBoB,UACC3D,GAAGY,OACF,QAEC6C,OAASlB,UAAW,8CACpBqB,KAAMb,OAOX/C,GAAGY,OACF,OAEC0B,OAASC,UAAW,6CACpBoB,UAAYlD,KAAK+C,eAInBxD,GAAGY,OAAO,MAAQ0B,OAASC,UAAW,8BAQ3C9B,KAAK+B,cAAcC,YAClBzC,GAAGY,OACF,OAEC0B,OAASC,UAAW,uCACpBoB,UAEE3D,GAAGY,OACF,QAEC0B,OAAQC,UAAW,kDACnBqB,KAAM5D,GAAG6D,QAAQ,+BAGnB,IAAI7D,GAAGG,SAASC,UAAU0D,gBAAgBC,cACzCC,aAActB,EAAcuB,eAAiB,IAC7CC,SAAUxB,EAAcyB,WAAa,IACrCC,UAAWpE,GAAG6B,SAAS,WACtBpB,KAAKmC,aAAayB,OAClB5D,KAAK6D,SAASC,QACZ9D,MACH+D,cAAexE,GAAG6B,SAAS,WAC1BpB,KAAKmC,aAAa2B,OAClB9D,KAAK6D,SAASD,QACZ5D,MACHgE,sBAAuBzE,GAAG6B,SAAS,WAClCpB,KAAKmC,aAAa2B,OAClB9D,KAAK6D,SAASC,QACZ9D,QACDiE,mBAOR,IAAIC,EAAgBlE,KAAK+B,cAAcC,YAAYzC,GAAGY,OACrD,OAEC0B,OAASC,UAAW,0CAKtB9B,KAAKmE,cAAgBD,EAAclC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAASC,UAAW,8GAErF9B,KAAKoE,mBAAqBpE,KAAKmE,cAC7BnC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,gDACjDE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,kDAAmDqB,KAAM5D,GAAG6D,QAAQ,oDAAsD,OAE7KpD,KAAKqE,kBAAoBrE,KAAKmE,cAAcnC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,sGAE7F9B,KAAKsE,yBAA2BtE,KAAKmE,cAAcnC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,gDAEpG,GAAIG,EAAcsC,WACdhF,GAAGsB,KAAKC,cAAcmB,EAAcsC,UAAU,cAC9ChF,GAAGsB,KAAK2D,QAAQvC,EAAcsC,UAAU,YAAYE,UACxD,CACCxC,EAAcsC,UAAU,YAAYE,SAASC,QAAQ,SAASC,GAE7DxC,EAAayC,MACZxE,GAAIuE,EAASE,GACbvC,MAAOqC,EAASG,KAChBjE,KAAM8D,EAASI,aAKlB,GAAIxF,GAAGsB,KAAK2D,QAAQvC,EAAc+C,oBAClC,CACC/C,EAAc+C,mBAAmBN,QAAQ,SAASC,GAEjDvC,EAAqBwC,MACpBxE,GAAIuE,EAASvE,GACbS,KAAM8D,EAAS9D,SAKlBb,KAAKmC,aAAe,IAAI5C,GAAGG,SAASC,UAAU0D,gBAAgB4B,sBAC7DC,MAAOjD,EAAcuB,eAAiB,IACtC2B,SAAU,KACVC,UAAWpF,KAAKmE,cAChBkB,SAAUrF,KAAKqE,kBACfiB,aAActF,KAAKsE,yBACnBiB,OAAQnD,EACRD,aAAcA,EACdqD,mBAAoBjG,GAAGkG,MAAMzF,KAAK0F,wBAAyB1F,QAK5DA,KAAK2F,iBAAmBzB,EAAclC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAASC,UAAW,8GAExF9B,KAAK4F,eAAiB5F,KAAK2F,iBACzB3D,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,gDACjDE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,kDAAmDqB,KAAM5D,GAAG6D,QAAQ,iDAAmD,OAE1KpD,KAAK6F,cAAgB7F,KAAK2F,iBAAiB3D,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,kDAE5F,IAAIgE,KACJ,GAAIvG,GAAGsB,KAAK2D,QAAQvC,EAAc8D,gBAClC,CACC9D,EAAc8D,eAAerB,QAAQ,SAASsB,GAE7CF,EAAclB,KAAK,IAAMqB,SAASD,MAIpChG,KAAK6D,SAAW,IAAItE,GAAGG,SAASC,UAAU0D,gBAAgB6C,cACzDhB,MAAOjD,EAAcyB,WAAa,IAClC0B,UAAWpF,KAAK2F,iBAChBQ,SAAUnG,KAAK6F,cACfO,kBAAmB7G,GAAGG,SAASC,UAAU0D,gBAAgBgD,uBACzDP,cAAeA,EACfN,mBAAoBjG,GAAGkG,MAAMzF,KAAK0F,wBAAyB1F,QAK5DkE,EAAclC,YACbzC,GAAGY,OAAO,MAAQ0B,OAASC,UAAW,2BAGvC9B,KAAKsG,oBAAsBpC,EAAclC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAASC,UAAW,8GAE3F9B,KAAKsG,oBAAoBtE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,gDAAgDE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,kDAAmDqB,KAAM5D,GAAG6D,QAAQ,2CAA6C,OAE5RpD,KAAKuG,yBAA2BvG,KAAKsG,oBAAoBtE,YAAYzC,GAAGY,OAAO,OAAQ0B,OAAQC,UAAW,kDAI1G9B,KAAKwG,iBAAmBjH,GAAGY,OAC1B,SAEC0B,OAAShB,KAAM,WAAY4F,QAASxE,EAAcyE,UAAY,OAIhE1G,KAAKuG,yBAAyBvE,YAC7BzC,GAAGY,OACF,SAEC0B,OAAQC,UAAW,8CACnBoB,UAEElD,KAAKwG,iBACLjH,GAAGY,OAAO,QAAUgD,KAAM5D,GAAG6D,QAAQ,qCAQ1CpD,KAAK2G,kBAAoBpH,GAAGY,OAC3B,SAEC0B,OACChB,KAAM,WACN4F,QAASxE,EAAc2E,cAAgB,KAExCC,QACCC,MAAQvH,GAAG6B,SAAS,WACnB,GAAIpB,KAAK+G,YACT,CACC/G,KAAK+G,YAAYjD,KAAK9D,KAAK2G,kBAAkBF,WAE5CzG,SAKNA,KAAKuG,yBAAyBvE,YAC7BzC,GAAGY,OACF,SAEC0B,OAAQC,UAAW,8CACnBoB,UAEElD,KAAK2G,kBACLpH,GAAGY,OAAO,QAAUgD,KAAM5D,GAAG6D,QAAQ,yCAM1CpD,KAAK+G,YAAc,IAAIxH,GAAGG,SAASC,UAAU0D,gBAAgB2D,aAC5DC,UAAWjH,KAAKuG,yBAChBW,mBAAoB3H,GAAGkG,MAAM,WAE5BzF,KAAK2G,kBAAkBF,QAAU,OAC/BzG,MACHiC,cAAeA,EACfkF,gBAAiB5H,GAAGkG,MAAM,WAAW,OAAOzF,KAAKwG,iBAAiBC,SAAUzG,QAG7EkE,EAAclC,YACbzC,GAAGY,OAAO,MAAQ0B,OAASC,UAAW,2BAIvC9B,KAAKoH,qBAAuBlD,EAAclC,YAAYzC,GAAGY,OAAO,OAAQ0B,OAASC,UAAW,kDAE5F9B,KAAKqH,oBAAsB9H,GAAGY,OAC7B,SACE0B,OAAShB,KAAM,WAAY4F,QAASzG,KAAKuB,QAAUvB,KAAKuB,OAAO+F,gBAGlEtH,KAAKoH,qBAAqBpF,YACzBzC,GAAGY,OACF,SAEC0B,OAAQC,UAAW,8CACnBoB,UAEElD,KAAKqH,oBACL9H,GAAGY,OAAO,QAAUgD,KAAMnD,KAAKuC,WAAW,yBAQ/CvC,KAAKuH,oBAAsBhI,GAAGY,OAAO,SAAW0B,OAAShB,KAAM,cAC/D,GAAGwB,EACH,CACCrC,KAAKuH,oBAAoBd,QAAUlH,GAAGiI,KAAKC,WAAWzH,KAAK0H,UAAW,aAAc,UAGrF,CACC1H,KAAKuH,oBAAoBd,QAAUzG,KAAKuB,OAAOoG,gBAC9CpI,GAAGW,IAAI0H,2BAA2BC,YAGpC7H,KAAKoH,qBAAqBpF,YACzBzC,GAAGY,OACF,SAEC0B,OAAQC,UAAW,8CACnBoB,UAEElD,KAAKuH,oBACLhI,GAAGY,OAAO,QAAUgD,KAAMnD,KAAKuC,WAAW,oBAQ/CvC,KAAK8H,qBAAuBvI,GAAGY,OAC9B,SACE0B,OAAShB,KAAM,WAAY4F,QAASxE,EAAc8F,mBAAqB,OAG1E/H,KAAKoH,qBAAqBpF,YACzBzC,GAAGY,OACF,SAEC0B,OAAQC,UAAW,8CACnBoB,UAEElD,KAAK8H,qBACLvI,GAAGY,OAAO,QAAUgD,KAAM5D,GAAG6D,QAAQ,wCAO1CpD,KAAK+B,cAAcC,YAClBzC,GAAGY,OACF,OAEC0B,OACCC,UAAW,qDAEZoB,UACC3D,GAAGY,OAAO,MAAQ0B,OAASC,UAAW,0BACtCvC,GAAGY,OACF,QAEC0B,OAASC,UAAW,mCACpBqB,KAAM5D,GAAG6D,QAAQ,mBACjByD,QAAWC,MAAOvH,GAAG6B,SAASpB,KAAKgI,kBAAmBhI,SAGxDT,GAAGY,OACF,QAEC0B,OAASC,UAAW,wCACpBqB,KAAM5D,GAAG6D,QAAQ,qBACjByD,QAAWC,MAAOvH,GAAG6B,SAASpB,KAAKiI,oBAAqBjI,aAQ9DA,KAAKiC,cAAgBA,EACrBjC,KAAKkI,eAAexH,GACpBV,KAAKY,WAAa,MAGnBrB,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUkB,4BAA8B,SAASf,GAExGpB,GAAG4I,KAAKC,UAAU,gEACjBC,UACEC,KAAK,SAAUC,GAEhB,GAAI5H,GAAUpB,GAAGsB,KAAK2H,WAAW7H,EAAOgB,iBACxC,CACChB,EAAOgB,gBAAgB4G,EAASF,QAGlC,SAAUE,OAUZhJ,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUU,sBAAwB,SAASP,GAElGpB,GAAG4I,KAAKC,UAAU,0DACjBC,UACEC,KAAK,SAAUC,GAEhB,GAAI5H,GAAUpB,GAAGsB,KAAK2H,WAAW7H,EAAOQ,UACxC,CACCR,EAAOQ,SAASoH,EAASF,QAG3B,SAAUE,OAUZhJ,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUiI,sBAAwB,SAAS9H,GAElG,OAAO,IAAIpB,GAAGG,SAASC,UAAU0D,gBAAgBqF,iBAAiB/H,IAGnEpB,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUwH,kBAAoB,WAErF,GAAGhI,KAAK2I,UACR,CACC,OAGD,GAAI3I,KAAKsB,eAAiB,GAAKtB,KAAK4I,wBAA0B5I,KAAKsB,eACnE,CACC/B,GAAGG,SAASC,UAAU0D,gBAAgBwF,sBACtC,OAGD,IAAIlI,GAEHmI,OAAQ9I,KAAK8C,QACbH,MAAO3C,KAAK+C,YAAYE,MACxB8F,UAAW/I,KAAKqH,oBAAoBZ,QACpCoB,WAAY7H,KAAKuH,oBAAoBd,QACrCuC,SAAU,MAGX,GAAGhJ,KAAKuB,OACR,CACCZ,EAAO,SAAWX,KAAKuB,OAGxBvB,KAAKiC,cAAcuB,cAAgBxD,KAAKmC,aAAa8G,UAAY,IAAM,IACvEjJ,KAAKiC,cAAcyB,UAAY1D,KAAK6D,SAASoF,UAAY,IAAM,IAE/D,GAAIjJ,KAAKiC,eACL1C,GAAGsB,KAAKC,cAAcd,KAAKiC,cAAcsC,YACzChF,GAAGsB,KAAKC,cAAcd,KAAKiC,cAAcsC,UAAU,aACvD,CACCvE,KAAKiC,cAAc+C,sBAEnBhF,KAAKmC,aAAa+G,oBAAoBxE,QAAQ,SAASzB,GAEtDjD,KAAKiC,cAAc+C,mBAAmBJ,KAAK3B,IACzCjD,MAEHA,KAAKmC,aAAagH,mBAAmBzE,QAAQ,SAASzB,GAErDjD,KAAKiC,cAAc+C,mBAAmBJ,KAAK3B,IACzCjD,MAIJ,GAAIA,KAAKiC,eAAiBjC,KAAK6D,SAC/B,CACC7D,KAAKiC,cAAc8D,gBAAkB,GACrC/F,KAAK6D,SAASuF,wBAAwB1E,QAAQ,SAAS2E,GAEtD,GAAIA,EAAKC,OAAO,EAAG,IAAM,IACzB,CACCtJ,KAAKiC,cAAc8D,eAAenB,KAAKqB,SAASoD,EAAKC,OAAO,OAE3DtJ,MAGJA,KAAKiC,cAAc2E,aAAe5G,KAAK2G,kBAAkBF,QAAU,IAAM,IACzEzG,KAAKiC,cAAcsH,gBACnB,GAAIvJ,KAAK2G,kBAAkBF,SAAWzG,KAAK+G,YAC3C,CACC/G,KAAKiC,cAAcsH,aAAevJ,KAAK+G,YAAYyC,YAGpDxJ,KAAKiC,cAAcyE,SAAW1G,KAAKwG,iBAAiBC,QAAU,IAAM,IACpEzG,KAAKiC,cAAc8F,kBAAoB/H,KAAK8H,qBAAqBrB,QAAU,IAAM,IAEjF9F,EAAO,YAAcX,KAAKiC,cAE1B1C,GAAGkK,cAAczJ,KAAM,UAAYA,KAAMW,KAG1CpB,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUoI,sBAAwB,WAEzF,IAAIc,EAAS,EAEb,GAAI1J,KAAKiC,cACT,CACC,GAAI1C,GAAGsB,KAAKC,cAAcd,KAAKiC,cAAcsC,YACzChF,GAAGsB,KAAKC,cAAcd,KAAKiC,cAAcsC,UAAUI,WACnDpF,GAAGsB,KAAK2D,QAAQxE,KAAKiC,cAAcsC,UAAUI,SAASF,UAE1D,CACCiF,GAAU1J,KAAKiC,cAAcsC,UAAUI,SAASF,SAASkF,OAG1DD,GAAU1J,KAAKmC,aAAagH,mBAAmBQ,OAE/C3J,KAAKmC,aAAa+G,oBAAoBxE,QAAQ,SAASzB,GAEtD,IAAKA,EAAM7C,IAAM6C,EAAMX,QAAU,GACjC,CACCoH,MAEC1J,MAEH,GAAIA,KAAK6D,SACT,CACC6F,GAAU1J,KAAK6D,SAASuF,wBAAwBO,QAGlD,OAAOD,GAGRnK,GAAGG,SAASC,UAAUC,kCAAkCY,UAAUkF,wBAA0B,WAE3F,OAAO1F,KAAKsB,gBAAkB,GAAKtB,KAAK4I,wBAA0B5I,KAAKsB,gBAIzE,IAAI/B,GAAGW,YAAcX,GAAGW,IAAIN,oCAAsC,YAClE,CACCL,GAAGqK,eAAeC,OAAQ,oDAAqDpK,OAGhF,CACCA,MAtlBD","file":""}