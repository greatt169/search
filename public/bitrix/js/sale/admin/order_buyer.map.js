{"version":3,"file":"order_buyer.min.js","sources":["order_buyer.js"],"names":["BX","namespace","Sale","Admin","OrderBuyer","propertyCollection","savedPropsCollections","profilesData","oldBuyerId","isFeatureSaleAccountsEnabled","getFieldsUpdaters","BUYER_USER_NAME","setBuyerName","BUYER_PROFILES_LIST","setBuyerProfilesList","PROPERTIES_ARRAY","setOrderPropsArray","PROPERTIES","setOrderProps","BUYER_PROFILES_DATA","setProfilesData","data","onBuyerProfileChange","name","nameLink","button","nameWrap","innerHTML","util","htmlspecialchars","style","display","params","profList","buyerProfileId","selectWrap","create","props","id","bind","appendChild","length","j","l","remove","add","value","text","message","i","hasOwnProperty","setBuyerProfileId","showBuyerProfilesList","profileId","hideBuyerProfilesList","property","getById","setValue","callPropertiesUpdaters","showChooseBuyerWindow","languageId","window","open","OrderEditPage","formId","Math","floor","screen","height","width","clearBuyer","setBuyerId","onBuyerIdChange","buyerIdNode","updateBuyerProfileLink","OrderAjaxer","sendRequest","ajaxRequests","getOrderFields","givenFields","USER_ID","PERSON_TYPE_ID","this","getBuyerTypeId","CURRENCY","currency","ORDER_ID","orderId","SITE_ID","siteId","BUYER_ID_CHANGED","demandFields","onBuyerTypeChange","personTypeId","demanded","push","refreshOrderData","operation","getBuyerId","getBuyerProfileId","typeId","profData","BUYER_PROFILE_ID","getElementValue","buyerId","href","PropertyCollection","debug","propEmail","propPhone","propLocation","propFio","getUserEmail","addEvent","e","callConcreteFieldUpdater","getValue","getPhone","getDeliveryLocation","getPayerName","container","group","groupIterator","getGroupIterator","children","removeChild","getName","div1","className","divName","html","table","propsIterator","getIterator","border","cellspacing","cellpadding","tr","tdName","tdControl","verticalAlign","paddingTop","isRequired","addClass","appendTo","setOrderRelPropsArray","propertyLocCollection","parent","findParent","attr","navElement","parentNode","properties","show","hide","prop"],"mappings":"AAAAA,GAAGC,UAAU,2BAEbD,IAAGE,KAAKC,MAAMC,YAEbC,mBAAoB,KACpBC,yBACAC,aAAc,KACdC,WAAY,EACZC,6BAA8B,MAE9BC,kBAAmB,WAElB,OACCC,gBAAmBX,GAAGE,KAAKC,MAAMC,WAAWQ,aAC5CC,oBAAuBb,GAAGE,KAAKC,MAAMC,WAAWU,qBAChDC,iBAAoBf,GAAGE,KAAKC,MAAMC,WAAWY,mBAC7CC,WAAcjB,GAAGE,KAAKC,MAAMC,WAAWc,cACvCC,oBAAuBnB,GAAGE,KAAKC,MAAMC,WAAWgB,kBAIlDA,gBAAiB,SAASC,GAEzBrB,GAAGE,KAAKC,MAAMC,WAAWG,aAAec,CACxCrB,IAAGE,KAAKC,MAAMC,WAAWkB,wBAG1BV,aAAc,SAASW,GAEtB,GAAIC,GAAWxB,GAAG,mBACjByB,EAASzB,GAAG,qCACZ0B,EAAW1B,GAAG,6BAEf,IAAGwB,EACFA,EAASG,UAAY3B,GAAG4B,KAAKC,iBAAiBN,EAE/C,IAAGA,EACH,CACCE,EAAOK,MAAMC,QAAU,MACvBL,GAASI,MAAMC,QAAU,OAG1B,CACCN,EAAOK,MAAMC,QAAU,EACvBL,GAASI,MAAMC,QAAU,SAI3BjB,qBAAsB,SAASkB,GAE9B,GAAIC,GAAWjC,GAAG,oBACjBkC,EAAiB,CAElB,KAAID,EACJ,CACC,GAAIE,GAAanC,GAAG,6BACpBiC,GAAWjC,GAAGoC,OAAO,UAAWC,OAAOd,KAAM,mBAAoBe,GAAG,qBACpEtC,IAAGuC,KAAKN,EAAU,SAAUjC,GAAGE,KAAKC,MAAMC,WAAWkB,qBACrDa,GAAWK,YAAYP,GAGxB,GAAGA,EAASQ,OAAS,EACpB,IAAI,GAAIC,GAAG,EAAGC,EAAGV,EAASQ,OAAQC,EAAEC,EAAGD,IACtCT,EAASW,OAAOX,EAASS,GAE3B,KAAIV,EACJ,CACCC,EAASY,IAAI7C,GAAGoC,OAAO,UAAYC,OAAOS,MAAO,GAAIC,KAAM/C,GAAGgD,QAAQ,kCACtE,QAGD,IAAI,GAAIC,KAAKjB,GACb,CACC,IAAIA,EAAOkB,eAAeD,GACzB,QAEDhB,GAASY,IAAI7C,GAAGoC,OAAO,UAAYC,OAAOS,MAAOG,EAAGF,KAAMf,EAAOiB,MAEjE,IAAGA,EAAI,GAAKf,GAAkB,EAC7BA,EAAiBe,EAGnBjD,GAAGE,KAAKC,MAAMC,WAAW+C,kBAAkBjB,EAC3ClC,IAAGE,KAAKC,MAAMC,WAAWgD,yBAG1BD,kBAAmB,SAASE,GAE3B,GAAIpB,GAAWjC,GAAG,mBAElB,IAAGiC,EACFA,EAASa,MAAQO,GAGnBD,sBAAuB,WAEtB,GAAInB,GAAWjC,GAAG,qCAElB,IAAGiC,EACFA,EAASH,MAAMC,QAAU,IAG3BuB,sBAAuB,WAEtB,GAAIrB,GAAWjC,GAAG,qCAElB,IAAGiC,EACFA,EAASH,MAAMC,QAAU,QAG3Bb,cAAe,SAASc,GAEvB,IAAI,GAAIiB,KAAKjB,GACb,CACC,IAAIA,EAAOkB,eAAeD,GACzB,QAED,IAAIM,GAAWvD,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBmD,QAAQP,EAEnE,IAAGM,EACFA,EAASE,SAASzB,EAAOiB,IAG3BjD,GAAGE,KAAKC,MAAMC,WAAWsD,0BAI1BC,sBAAuB,SAASC,GAE/BC,OAAOC,KACN,sCAAsCF,EAAW,OAAO5D,GAAGE,KAAKC,MAAM4D,cAAcC,OAAO,cAC3F,GACA,yDAAyDC,KAAKC,OAAOC,OAAOC,OAAS,KAAK,EAAE,IAAI,SAASH,KAAKC,OAAOC,OAAOE,MAAQ,KAAK,EAAE,KAI7IC,WAAY,WAEXtE,GAAGE,KAAKC,MAAMC,WAAWQ,aAAa,GACtCZ,IAAGE,KAAKC,MAAMC,WAAWmE,WAAW,EACpCvE,IAAGE,KAAKC,MAAMC,WAAWkD,uBACzBtD,IAAGE,KAAKC,MAAMC,WAAWU,qBAAqB,MAC9Cd,IAAGE,KAAKC,MAAMC,WAAWoE,gBAAgBxE,GAAG,aAG7CwE,gBAAiB,SAASC,GAEzBzE,GAAGE,KAAKC,MAAMC,WAAWsE,uBAAuBD,EAAY3B,MAC5D9C,IAAG,eAAe8C,MAAQ9C,GAAGE,KAAKC,MAAMC,WAAWI,UACnDR,IAAGE,KAAKC,MAAMC,WAAWI,WAAaiE,EAAY3B,KAElD9C,IAAGE,KAAKC,MAAMwE,YAAYC,YACzB5E,GAAGE,KAAKC,MAAM4D,cAAcc,aAAaC,gBACxCC,aACCC,QAAWP,EAAY3B,MACvBmC,eAAkBC,KAAKC,iBACvBC,SAAYpF,GAAGE,KAAKC,MAAM4D,cAAcsB,SACxCC,SAAYtF,GAAGE,KAAKC,MAAM4D,cAAcwB,QACxCC,QAAWxF,GAAGE,KAAKC,MAAM4D,cAAc0B,OACvCC,iBAAoB,KAErBC,cACC,sBACA,sBACA,kBACA,eACA,gBAEE,MAAO,OAIbC,kBAAmB,SAASC,GAE3B,GAAIC,IAAY,sBAAuB,sBAEvC,KAAI9F,GAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,GACnD,CACCC,EAASC,KAAK,wBAGf,CACC/F,GAAGE,KAAKC,MAAMC,WAAWY,qBAK1BhB,GAAGE,KAAKC,MAAMwE,YAAYC,YACzB5E,GAAGE,KAAKC,MAAM4D,cAAcc,aAAamB,kBACxCL,aAAcG,EACdG,UAAW,gBACXlB,aACCC,QAAWE,KAAKgB,aAChBjB,eAAkBY,EAClBL,QAAWxF,GAAGE,KAAKC,MAAM4D,cAAc0B,YAM3CnE,qBAAsB,WAErB,GAAI+B,GAAYrD,GAAGE,KAAKC,MAAMC,WAAW+F,oBACxCC,EAASpG,GAAGE,KAAKC,MAAMC,WAAW+E,iBAClCkB,EAAWrG,GAAGE,KAAKC,MAAMC,WAAWG,YAErC,IAAG8F,GAAYA,EAASD,IAAWC,EAASD,GAAQ/C,GACpD,CACCrD,GAAGE,KAAKC,MAAMC,WAAWc,cAAcmF,EAASD,GAAQ/C,GAExDrD,IAAGE,KAAKC,MAAMwE,YAAYC,YACzB5E,GAAGE,KAAKC,MAAM4D,cAAcc,aAAamB,kBACvCC,UAAW,+BAKV,IAAG5C,GAAa,EACrB,CACCrD,GAAGE,KAAKC,MAAMwE,YAAYC,YACzB5E,GAAGE,KAAKC,MAAM4D,cAAcc,aAAaC,gBACxCC,aACCC,QAAWE,KAAKgB,aAChBI,iBAAoBpB,KAAKiB,qBAE1BR,cAAc,gBAEf,QAKHQ,kBAAmB,WAElB,MAAOnG,IAAGE,KAAKC,MAAM4D,cAAcwC,gBAAgB,qBAGpDpB,eAAgB,WAEf,MAAOnF,IAAGE,KAAKC,MAAM4D,cAAcwC,gBAAgB,mBAGpDL,WAAY,WAEX,MAAOlG,IAAGE,KAAKC,MAAM4D,cAAcwC,gBAAgB,YAGpDhC,WAAY,SAASiC,GAEpBxG,GAAG,WAAW8C,MAAQ0D,CACtBxG,IAAGE,KAAKC,MAAMC,WAAWsE,uBAAuB8B,IAGjD9B,uBAAwB,SAAS8B,GAEhC,GAAGxG,GAAGE,KAAKC,MAAMC,WAAWK,6BAC3BT,GAAG,mBAAmByG,KAAO,8CAA8CzG,GAAGE,KAAKC,MAAM4D,cAAcH,WAAW,YAAY4C,MAE9HxG,IAAG,mBAAmByG,KAAO,oCAAoCzG,GAAGE,KAAKC,MAAM4D,cAAcH,WAAW,OAAO4C,GAGjHxF,mBAAoB,SAASqB,GAE5B,GAAIwD,GAAe7F,GAAGE,KAAKC,MAAMC,WAAW+E,gBAE5C,KAAInF,GAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,GAClD7F,GAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,GAAgB,GAAI7F,IAAGE,KAAKwG,mBAAmBrE,EAE/FrC,IAAGE,KAAKC,MAAMC,WAAWC,mBAAqBL,GAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,EAE7F,KAAI7F,GAAGE,KAAKC,MAAMC,WAAWC,mBAC7B,CACCL,GAAG2G,MAAM,+CACT,QAGD3G,GAAGE,KAAKC,MAAMC,WAAWsD,wBACzB,IAAIkD,GAAWC,EAAWC,EAAcC,CAExC,IAAGH,EAAY5G,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmB2G,eAC1DJ,EAAUK,SAAS,SAAU,SAASC,GAAGlH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBACpE,cAAeP,EAAUQ,aAG3B,IAAGP,EAAY7G,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBgH,WAC1DR,EAAUI,SAAS,SAAU,SAASC,GAAGlH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBACpE,cAAeN,EAAUO,aAG3B,IAAGN,EAAe9G,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBiH,sBAC7DR,EAAaG,SAAS,SAAU,SAASC,GAAGlH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBACvE,WAAYL,EAAaM,aAG3B,IAAGL,EAAU/G,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBkH,eACxDR,EAAQE,SAAS,SAAU,SAASC,GAAGlH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBAClE,YAAaJ,EAAQK,aAGvB,IAAII,GAAYxH,GAAG,8BAClByH,EAAOlE,EACPmE,EAAgB1H,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBsH,kBAE7D,KAAI,GAAI1E,GAAG,EAAGN,EAAI6E,EAAUI,SAASnF,OAAQQ,EAAIN,EAAGM,IACnDuE,EAAUK,YAAYL,EAAUI,SAAS,GAE1C,OAAOH,EAAQC,IACf,CACC,GAAInG,GAAOkG,EAAMK,UAAY9H,GAAG4B,KAAKC,iBAAiB4F,EAAMK,WAAa9H,GAAGgD,QAAQ,kCACnF+E,EAAO/H,GAAGoC,OAAO,OAAOC,OAAO2F,UAAU,mEACzCC,EAAUjI,GAAGoC,OAAO,OAAOC,OAAO2F,UAAU,+BAAgCE,KAAK3G,IACjF4G,EAAQnI,GAAGoC,OAAO,SAASC,OAAO2F,UAAU,yCAC5CI,EAAiBX,EAAMY,aAExBF,GAAMG,OAAS,CACfH,GAAMI,YAAc,CACpBJ,GAAMK,YAAc,CACpBL,GAAM9D,MAAQ,MAEd,OAAOd,EAAW6E,IAClB,CACC,GAAIK,GAAKzI,GAAGoC,OAAO,MAClBsG,EAAS1I,GAAGoC,OAAO,MAAOC,OAAO2F,UAAU,6BAA8BE,KAAMlI,GAAG4B,KAAKC,iBAAiB0B,EAASuE,WAAW,MAC5Ha,EAAY3I,GAAGoC,OAAO,MAAOC,OAAO2F,UAAU,8BAE/CU,GAAO5G,MAAM8G,cAAgB,KAC7BF,GAAO5G,MAAM+G,WAAa,OAE1B,IAAGtF,EAASuF,aACX9I,GAAG+I,SAASL,EAAQ,MAErBA,GAAOrE,MAAQ,KACfd,GAASyF,SAASL,EAClBF,GAAGjG,YAAYkG,EACfD,GAAGjG,YAAYmG,EACfR,GAAM3F,YAAYiG,GAGnBV,EAAKvF,YAAYyF,EACjBF,GAAKvF,YAAY2F,EACjBX,GAAUhF,YAAYuF,KAIxBkB,sBAAuB,SAAS5G,GAE/B,GAAIwD,GAAe7F,GAAGE,KAAKC,MAAMC,WAAW+E,gBAE5CnF,IAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,EAAe,QAAU,GAAI7F,IAAGE,KAAKwG,mBAAmBrE,EAEvGrC,IAAGE,KAAKC,MAAMC,WAAW8I,sBAAwBlJ,GAAGE,KAAKC,MAAMC,WAAWE,sBAAsBuF,EAAa,OAE7G,KAAI7F,GAAGE,KAAKC,MAAMC,WAAW8I,sBAC7B,CACClJ,GAAG2G,MAAM,+CACT,QAGD,GAAIa,GAAYxH,GAAG,kCAClByH,EAAOlE,EACPmE,EAAgB1H,GAAGE,KAAKC,MAAMC,WAAW8I,sBAAsBvB,kBAGhE,KAAI,GAAI1E,GAAG,EAAGN,EAAI6E,EAAUI,SAASnF,OAAQQ,EAAIN,EAAGM,IACnDuE,EAAUK,YAAYL,EAAUI,SAAS,GAE1C,IAAIuB,GAASnJ,GAAGoJ,WAAW5B,GAAY6B,KAAQ,WAAY,KAC3D,IAAIC,GAAatJ,GAAG,gBAAgBuJ,UAEpC,IAAIlH,EAAMmH,WAAW/G,OAAS,EAC9B,CACCzC,GAAGyJ,KAAKN,EACRnJ,IAAG8B,MAAMwH,EAAY,UAAW,oBAGjC,CACCtJ,GAAG0J,KAAKP,EACRnJ,IAAG0J,KAAKJ,GAGT,MAAO7B,EAAQC,IACf,CACC,GAAIK,GAAO/H,GAAGoC,OAAO,OAAOC,OAAO2F,UAAU,mEAC5CC,EAAUjI,GAAGoC,OAAO,OAAOC,OAAO2F,UAAU,+BAAgCE,KAAKlI,GAAG4B,KAAKC,iBAAiB4F,EAAMK,aAChHK,EAAQnI,GAAGoC,OAAO,SAASC,OAAO2F,UAAU,yCAC5CI,EAAiBX,EAAMY,aAExBF,GAAMG,OAAS,CACfH,GAAMI,YAAc,CACpBJ,GAAMK,YAAc,CACpBL,GAAM9D,MAAQ,MAEd,OAAOd,EAAW6E,IAClB,CACC,GAAIK,GAAKzI,GAAGoC,OAAO,MAClBsG,EAAS1I,GAAGoC,OAAO,MAAOC,OAAO2F,UAAU,6BAA8BE,KAAMlI,GAAG4B,KAAKC,iBAAiB0B,EAASuE,WAAW,MAC5Ha,EAAY3I,GAAGoC,OAAO,MAAOC,OAAO2F,UAAU,8BAE/C,IAAGzE,EAASuF,aACX9I,GAAG+I,SAASL,EAAQ,MAErBA,GAAOrE,MAAQ,KACfd,GAASyF,SAASL,EAClBF,GAAGjG,YAAYkG,EACfD,GAAGjG,YAAYmG,EACfR,GAAM3F,YAAYiG,GAGnBV,EAAKvF,YAAYyF,EACjBF,GAAKvF,YAAY2F,EACjBX,GAAUhF,YAAYuF,KAIxBrE,uBAAwB,WAEvB,GAAIiG,EAEJ,IAAGA,EAAO3J,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBgH,WACrDrH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBAAyB,cAAewC,EAAKvC,WAE1E,IAAGuC,EAAO3J,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmB2G,eACrDhH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBAAyB,cAAewC,EAAKvC,WAE1E,IAAGuC,EAAO3J,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBiH,sBACrDtH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBAAyB,WAAYwC,EAAKvC,WAEvE,IAAGuC,EAAO3J,GAAGE,KAAKC,MAAMC,WAAWC,mBAAmBkH,eACrDvH,GAAGE,KAAKC,MAAM4D,cAAcoD,yBAAyB,YAAawC,EAAKvC"}