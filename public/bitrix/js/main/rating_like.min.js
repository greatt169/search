if(!BXRL){var BXRL={};var BXRLW=null;var lastVoteRepo={};var lastReactionRepo={};var BXRLParams={pathToUserProfile:null}}RatingLike=function(e,t,i,n,o,a,s,r,p){var l=t+"_"+i;this.enabled=true;this.likeId=e;this.entityTypeId=t;this.entityId=i;this.available=n=="Y";this.userId=o;this.localize=a;this.template=s;this.pathToUserProfile=r;this.pathToAjax=BX.type.isNotEmptyString(p)?p:"/bitrix/components/bitrix/rating.vote/vote.ajax.php";this.box=BX("bx-ilike-button-"+e);if(this.box===null){this.enabled=false;return false}this.button=BX.findChild(this.box,{className:"bx-ilike-left-wrap"},true,false);this.buttonText=BX.findChild(this.button,{className:"bx-ilike-text"},true,false);this.count=BX.findChild(this.box,{tagName:"span",className:"bx-ilike-right-wrap"},true,false);if(!this.count){this.count=BX("bx-ilike-count-"+e)}this.countText=BX.findChild(this.count,{className:"bx-ilike-right"},true,false);this.topPanelContainer=BX("feed-post-emoji-top-panel-container-"+e);this.topPanel=BX("feed-post-emoji-top-panel-"+e);this.topUsersText=BX("bx-ilike-top-users-"+e);this.topUsersDataNode=BX("bx-ilike-top-users-data-"+e);this.userReactionNode=BX("bx-ilike-user-reaction-"+e);this.reactionsNode=BX("feed-post-emoji-icons-"+e);this.popup=null;this.popupId=null;this.popupTimeoutIdShow=null;this.popupTimeoutIdList=null;this.popupContent=BX.findChild(BX("bx-ilike-popup-cont-"+e),{tagName:"span",className:"bx-ilike-popup"},true,false);this.popupContentPage=1;this.popupTimeout=false;this.likeTimeout=false;this.mouseOverHandler=null;this.version=BXRL.render&&this.topPanel?2:1;this.mouseInShowPopupNode={};if(typeof lastVoteRepo[l]!="undefined"){this.lastVote=lastVoteRepo[l];var u=s=="standart"?this.button:this.count;if(this.lastVote=="plus"){BX.addClass(u,"bx-you-like")}else{BX.removeClass(u,"bx-you-like")}}else{this.lastVote=BX.hasClass(s=="standart"?this.button:this.count,"bx-you-like")?"plus":"cancel";lastVoteRepo[l]=this.lastVote}if(typeof lastReactionRepo[l]!="undefined"){this.lastReaction=lastReactionRepo[l];this.count.setAttribute("data-myreaction",this.lastReaction)}else{var R=this.count.getAttribute("data-myreaction");this.lastReaction=BX.type.isNotEmptyString(R)?R:"like";lastReactionRepo[l]=this.lastReaction}if(this.topPanelContainer&&typeof BXRL.manager!="undefined"){BXRL.manager.addEntity(l,this)}};RatingLike.LiveUpdate=function(e){if(e.USER_ID==BX.message("USER_ID")){return false}for(var t in BXRL){if(!BXRL.hasOwnProperty(t)){continue}if(BXRL[t].entityTypeId==e.ENTITY_TYPE_ID&&BXRL[t].entityId==e.ENTITY_ID){var i=BXRL[t];i.countText.innerHTML=parseInt(e.TOTAL_POSITIVE_VOTES);if(typeof e.TYPE!="undefined"&&typeof e.USER_ID!="undefined"&&parseInt(e.USER_ID)>0&&typeof e.USER_DATA!="undefined"&&typeof e.USER_DATA.WEIGHT!="undefined"){var n=parseFloat(e.USER_DATA.WEIGHT);var o=BXRL[t].topUsersDataNode?JSON.parse(BXRL[t].topUsersDataNode.getAttribute("data-users")):false;if(e.TYPE!="CHANGE"&&BX.type.isPlainObject(o)){var a=o.TOP.length>=2?false:true;for(var s in o.TOP){if(!o.TOP.hasOwnProperty(s)){continue}if(e.TYPE=="ADD"&&n>o.TOP[s].WEIGHT||e.TYPE=="CANCEL"&&e.USER_ID==o.TOP[s].ID){a=true}}if(a){if(e.TYPE=="ADD"){o.TOP.push({ID:parseInt(e.USER_ID),NAME_FORMATTED:e.USER_DATA.NAME_FORMATTED,WEIGHT:parseFloat(e.USER_DATA.WEIGHT)})}else if(e.TYPE=="CANCEL"){o.TOP=o.TOP.filter(function(t){return t.ID!=e.USER_ID})}o.TOP.sort(function(e,t){if(e.WEIGHT==t.WEIGHT){return 0}return e.WEIGHT>t.WEIGHT?-1:1});if(o.TOP.length>2&&e.TYPE=="ADD"){o.TOP.pop();o.MORE++}}else{if(e.TYPE=="ADD"){o.MORE=typeof o.MORE!="undefined"?parseInt(o.MORE)+1:1}else if(e.TYPE=="CANCEL"){o.MORE=typeof o.MORE!="undefined"&&parseInt(o.MORE)>0?parseInt(o.MORE)-1:0}}BXRL[t].topUsersDataNode.setAttribute("data-users",JSON.stringify(o));if(BXRL[t].topUsersText){BXRL[t].topUsersText.innerHTML=BXRL.render.getTopUsersText({you:BX.hasClass(BXRL[t].count,"bx-you-like"),top:o.TOP,more:o.MORE})}}if(BX.type.isNotEmptyString(e.REACTION)&&BX.type.isNotEmptyString(e.REACTION_OLD)&&e.TYPE=="CHANGE"){BXRL.render.setReaction({likeId:t,rating:BXRL[t],action:"change",userReaction:e.REACTION,userReactionOld:e.REACTION_OLD,totalCount:e.TOTAL_POSITIVE_VOTES,userId:e.USER_ID})}else if(BX.type.isNotEmptyString(e.REACTION)&&BX.util.in_array(e.TYPE,["ADD","CANCEL"])){BXRL.render.setReaction({likeId:t,rating:BXRL[t],userReaction:e.REACTION,action:e.TYPE=="ADD"?"add":"cancel",totalCount:e.TOTAL_POSITIVE_VOTES,userId:e.USER_ID})}}if(BXRL[t].topPanel){BXRL[t].topPanel.setAttribute("data-popup","N")}if(!BXRL[t].userReactionNode){i.count.insertBefore(BX.create("span",{props:{className:"bx-ilike-plus-one"},style:{width:i.countText.clientWidth-8+"px",height:i.countText.clientHeight-8+"px"},html:e.TYPE=="ADD"?"+1":"-1"}),i.count.firstChild)}if(i.popup){i.popup.close();i.popupContentPage=1}}}if(typeof BXRL.manager!="undefined"){BXRL.manager.live(e)}};RatingLike.Set=function(e,t,i,n,o,a,s,r,p){if(s===undefined)s="standart";if(BXRLParams.pathToUserProfile){r=BXRLParams.pathToUserProfile}if(!BXRL[e]||BXRL[e].tryToSet<=5){var l=BXRL[e]&&BXRL[e].tryToSet?BXRL[e].tryToSet:1;BXRL[e]=new RatingLike(e,t,i,n,o,a,s,r,p);if(BXRL[e].enabled){RatingLike.Init(e)}else{setTimeout(function(){BXRL[e].tryToSet=l+1;RatingLike.Set(e,t,i,n,o,a,s,r,p)},500)}}};RatingLike.ClickVote=function(e,t,i){var n=null,o=null,a=null;if(typeof t=="undefined"){t="like"}if(BXRL[e].version==2&&BXRL[e].userReactionNode){BXRL.render.hideReactionsPopup({likeId:e});BXRL.render.blockReactionsPopup();BX.unbind(document,"mousemove",BXRL.render.reactionsPopupMouseOutHandler)}clearTimeout(BXRL[e].likeTimeout);var s=BX.hasClass(BXRL[e].template=="standart"?this:BXRL[e].count,"bx-you-like");i=!!i;var r=false,p=false;if(s&&!i){t=BXRL[e].version==2?BXRL.render.getUserReaction({userReactionNode:BXRL[e].userReactionNode}):false;BXRL[e].buttonText.innerHTML=BXRL[e].localize["LIKE_N"];BXRL[e].countText.innerHTML=parseInt(BXRL[e].countText.innerHTML)-1;BX.removeClass(BXRL[e].template=="standart"?this:BXRL[e].count,"bx-you-like");BX.removeClass(BXRL[e].button,"bx-you-like-button");BXRL[e].likeTimeout=setTimeout(function(){if(BXRL[e].lastVote!="cancel"){RatingLike.Vote(e,"cancel",t)}},1e3)}else if(s&&i){r=true;p=BXRL[e].version==2?BXRL.render.getUserReaction({userReactionNode:BXRL[e].userReactionNode}):false;if(t!=p){BXRL[e].likeTimeout=setTimeout(function(){RatingLike.Vote(e,"change",t,p)},1e3)}}else if(!s){BXRL[e].buttonText.innerHTML=BXRL[e].localize["LIKE_Y"];BXRL[e].countText.innerHTML=parseInt(BXRL[e].countText.innerHTML)+1;BX.addClass(BXRL[e].template=="standart"?this:BXRL[e].count,"bx-you-like");BX.addClass(BXRL[e].button,"bx-you-like-button");BXRL[e].likeTimeout=setTimeout(function(){if(BXRL[e].lastVote!="plus"){RatingLike.Vote(e,"plus",t)}else if(t!=BXRL[e].lastReaction){RatingLike.Vote(e,"change",t,BXRL[e].lastReaction)}},1e3)}if(BXRL[e].version==2){if(r){BXRL.render.setReaction({likeId:e,rating:BXRL[e],action:"change",userReaction:t,userReactionOld:p,totalCount:parseInt(BXRL[e].countText.innerHTML)})}else{BXRL.render.setReaction({likeId:e,rating:BXRL[e],action:s?"cancel":"add",userReaction:t,totalCount:parseInt(BXRL[e].countText.innerHTML)})}}if(!r&&BXRL[e].version==2){var l=BXRL[e].topUsersDataNode?JSON.parse(BXRL[e].topUsersDataNode.getAttribute("data-users")):false;if(l){BXRL[e].topUsersText.innerHTML=BXRL.render.getTopUsersText({you:!s,top:l.TOP,more:l.MORE})}}if(BXRL[e].template=="light"&&!BXRL[e].userReactionNode){n=BXRL[e].box;o=n.cloneNode(true);o.id="like_anim";var u="normal";if(BX.findParent(n,{className:"feed-com-informers-bottom"})){u="comment"}else if(BX.findParent(n,{className:"feed-post-informers"})){u="post"}BX.removeClass(o,"bx-ilike-button-hover");BX.addClass(o,"bx-like-anim");BX.adjust(n.parentNode,{style:{position:"relative"}});BX.adjust(o,{style:{position:"absolute",whiteSpace:"nowrap",top:u=="post"?"1px":u=="comment"?"0":""}});BX.adjust(n,{style:{visibility:"hidden"}});BX.prepend(o,n.parentNode);new BX.easing({duration:140,start:{scale:100},finish:{scale:u=="comment"?110:115},transition:BX.easing.transitions.quad,step:function(e){o.style.transform="scale("+e.scale/100+")"},complete:function(){a=BX.create("SPAN",{props:{className:s?"bx-ilike-icon":"bx-ilike-icon bx-ilike-icon-orange"}});BX.adjust(a,{style:{position:"absolute",whiteSpace:"nowrap"}});BX.prepend(a,n.parentNode);new BX.easing({duration:140,start:{scale:u=="comment"?110:115},finish:{scale:100},transition:BX.easing.transitions.quad,step:function(e){o.style.transform="scale("+e.scale/100+")"},complete:function(){}}).animate();var e={opacity:100,scale:u=="comment"?110:115,top:0};var t={opacity:0,scale:200,top:u=="comment"?-3:-2};if(u!="comment"){e.left=-5;t.left=-13}new BX.easing({duration:200,start:e,finish:t,transition:BX.easing.transitions.linear,step:function(e){a.style.transform="scale("+e.scale/100+")";a.style.opacity=e.opacity/100;if(u!="comment"){a.style.left=e.left+"px"}a.style.top=e.top+"px"},complete:function(){o.parentNode.removeChild(o);a.parentNode.removeChild(a);BX.adjust(n.parentNode,{style:{position:"static"}});BX.adjust(n,{style:{visibility:"visible"}})}}).animate()}}).animate()}BX.removeClass(this.box,"bx-ilike-button-hover")};RatingLike.Init=function(e){if(BXRL[e].available){BX.bind(BXRL[e].template=="standart"?BXRL[e].button:BXRL[e].buttonText,"click",BX.delegate(function(t){RatingLike.ClickVote(e);if(BXRL[e].version==2){BXRL.render.afterClick({likeId:e})}t.preventDefault()},this));BX.bind(BXRL[e].box,"mouseover",function(){BX.addClass(this,"bx-ilike-button-hover")});BX.bind(BXRL[e].box,"mouseout",function(){BX.removeClass(this,"bx-ilike-button-hover")})}else{if(BXRL[e].buttonText!=undefined){BXRL[e].buttonText.innerHTML=BXRL[e].localize["LIKE_D"]}}var t=BXRL[e].topUsersText?BXRL[e].topUsersText:BXRL[e].count;BX.bind(t,"mouseenter",function(t){RatingLike.onResultMouseEnter({likeId:e,event:t,nodeId:t.currentTarget.id})});BX.bind(t,"mouseleave",BX.proxy(function(){RatingLike.onResultMouseLeave({likeId:e})},{likeId:e}));BX.bind(t,"click",function(t){RatingLike.onResultClick({likeId:e,event:t,nodeId:t.currentTarget.id})});if(BXRL[e].version==2&&BXRL[e].available&&BXRL[e].userReactionNode){BXRL.render.bindReactionsPopup({likeId:e})}if(typeof BXRL.manager!="undefined"){BXRL.manager.init()}};RatingLike.onResultClick=function(e){var t=BX.type.isNotEmptyString(e.likeId)?e.likeId:false,i=typeof e.event!="undefined"?e.event:null,n=BX.type.isNotEmptyString(e.reaction)?e.reaction:"";if(BXRL[t].resultPopupAnimation){return}if(BXRL[t].popup&&BXRL[t].popup.isShown()){BXRL[t].popup.close()}else{clearTimeout(BXRL[t].popupTimeoutIdList);clearTimeout(BXRL[t].popupTimeoutIdShow);if(BXRL[t].popupContentPage==1&&(i.currentTarget.getAttribute("data-popup")!="Y"||BXRL[t].popupCurrentReaction!=n)){RatingLike.List(t,1,n,true)}RatingLike.OpenWindow(t,i.currentTarget==BXRL[t].count?null:i,i.currentTarget,i.currentTarget.id)}};RatingLike.onResultMouseEnter=function(e){var t=BX.type.isNotEmptyString(e.likeId)?e.likeId:false,i=typeof e.event!="undefined"?e.event:null,n=BX.type.isNotEmptyString(e.reaction)?e.reaction:"",o=i&&BX.type.isNotEmptyString(i.currentTarget.id)?i.currentTarget.id:"";BXRL[t].mouseInShowPopupNode[n]=true;clearTimeout(BXRL[t].popupTimeoutIdList);clearTimeout(BXRL[t].popupTimeoutIdShow);BXRL[t].popupTimeoutIdList=setTimeout(BX.proxy(function(){if(BXRLW==this.likeId){return false}if(BXRL[this.likeId].popupContentPage==1&&this.target.getAttribute("data-popup")!="Y"){RatingLike.List(this.likeId,1,this.reaction,true)}BXRL[this.likeId].popupTimeoutIdShow=setTimeout(BX.proxy(function(){BXRL[this._likeId].resultPopupAnimation=true;var e=this._likeId;setTimeout(function(){BXRL[e].resultPopupAnimation=false},500);if(BXRL[this._likeId].mouseInShowPopupNode[this._reaction]){RatingLike.OpenWindow(this._likeId,null,this._target,this._nodeId)}},{_likeId:this.likeId,_reaction:this.reaction,_target:this.target,_nodeId:this.nodeId}),100)},{likeId:t,target:i.currentTarget,reaction:n,nodeId:o}),300)};RatingLike.onResultMouseLeave=function(e){var t=BX.type.isNotEmptyString(e.likeId)?e.likeId:false,i=BX.type.isNotEmptyString(e.reaction)?e.reaction:"";BXRL[t].mouseInShowPopupNode[i]=false;BXRL[t].resultPopupAnimation=false};RatingLike.OpenWindow=function(e,t,i,n){if(parseInt(BXRL[e].countText.innerHTML)==0){return}var o=BXRL[e].template=="standart"?BXRL[e].count:BXRL[e].version==2?BX(i)?BX(i):BX.type.isNotEmptyString(n)&&BX(n)?BX(n):null:BXRL[e].box;if(!BX(o)){return}if(BXRL[e].popup==null){var a=RatingLike.getGlobalIndex(BX(o));BXRL[e].popup=new BX.PopupWindow("ilike-popup-"+e,o,{lightShadow:true,offsetTop:0,offsetLeft:typeof t!="undefined"&&t!=null&&typeof t.offsetX!="undefined"?t.offsetX-100:BXRL[e].version==2?-30:5,autoHide:true,closeByEsc:true,zIndexAbsolute:a>1e3?a+1:1e3,bindOptions:{position:"top"},animationOptions:{show:{type:"opacity-transform"},close:{type:"opacity"}},events:{onPopupClose:function(){BXRLW=null},onPopupDestroy:function(){}},content:BX("bx-ilike-popup-cont-"+e),className:BXRL[e].topPanel?"bx-ilike-wrap-block-react-wrap":""});if(!BXRL[e].topPanel){BXRL[e].popup.setAngle({});BX.bind(BX("ilike-popup-"+e),"mouseout",function(){clearTimeout(BXRL[e].popupTimeout);BXRL[e].popupTimeout=setTimeout(function(){BXRL[e].popup.close()},1e3)});BX.bind(BX("ilike-popup-"+e),"mouseover",function(){clearTimeout(BXRL[e].popupTimeout)})}}else{if(typeof t!="undefined"&&t!=null&&typeof t.offsetX!="undefined"){BXRL[e].popup.offsetLeft=t.offsetX-100}if(BX(o)){BXRL[e].popup.setBindElement(o)}}if(BXRLW!=null&&BXRLW!=e){BXRL[BXRLW].popup.close()}BXRLW=e;BXRL[e].popup.show();if(typeof BX.SidePanel!="undefined"&&BX.SidePanel.Instance.getTopSlider()){BX.addCustomEvent(BX.SidePanel.Instance.getTopSlider().getWindow(),"SidePanel.Slider:onClose",function e(){BX.removeCustomEvent(BX.SidePanel.Instance.getTopSlider().getWindow(),"SidePanel.Slider:onClose",e);if(typeof BXRL[BXRLW]!="undefined"){BXRL[BXRLW].popup.close()}})}RatingLike.AdjustWindow(e)};RatingLike.getGlobalIndex=function(e){var t=0,i="";do{i=BX.style(e,"z-index");if(i!=="auto"){t=BX.type.stringToInt(i)}e=e.offsetParent}while(e&&e.tagName!=="BODY");return t};RatingLike.Vote=function(e,t,i,n){if(!BX.type.isNotEmptyString(i)){i="like"}BX.ajax({url:BXRL[e].pathToAjax,method:"POST",dataType:"json",data:{RATING_VOTE:"Y",RATING_VOTE_TYPE_ID:BXRL[e].entityTypeId,RATING_VOTE_ENTITY_ID:BXRL[e].entityId,RATING_VOTE_ACTION:t,RATING_VOTE_REACTION:i,sessid:BX.bitrix_sessid()},onsuccess:function(t){BXRL[e].lastVote=t.action;BXRL[e].lastReaction=i;lastVoteRepo[BXRL[e].entityTypeId+"_"+BXRL[e].entityId]=t.action;lastReactionRepo[BXRL[e].entityTypeId+"_"+BXRL[e].entityId]=t.voteReaction;BXRL[e].countText.innerHTML=t.items_all;BXRL[e].popupContentPage=1;BXRL[e].popupContent.innerHTML="";spanTag0=document.createElement("span");spanTag0.className="bx-ilike-wait";BXRL[e].popupContent.appendChild(spanTag0);if(BXRL[e].topPanel){BXRL[e].topPanel.setAttribute("data-popup","N")}RatingLike.AdjustWindow(e);if(BX("ilike-popup-"+e)&&BX("ilike-popup-"+e).style.display=="block"){RatingLike.List(e,null,"",true)}},onfailure:function(o){var a=BXRL[e].topUsersDataNode?JSON.parse(BXRL[e].topUsersDataNode.getAttribute("data-users")):false;if(BXRL[e].version==2){if(t=="change"){BXRL.render.setReaction({likeId:e,rating:BXRL[e],action:t,userReaction:i,userReactionOld:n,totalCount:parseInt(BXRL[e].countText.innerHTML)})}else{BXRL.render.setReaction({likeId:e,rating:BXRL[e],action:t=="cancel"?"add":"cancel",userReaction:i,totalCount:t=="cancel"?parseInt(BXRL[e].countText.innerHTML)+1:parseInt(BXRL[e].countText.innerHTML)-1})}if(BXRL[e].buttonText){if(t=="add"){BXRL[e].buttonText.innerHTML=BX.message("RATING_LIKE_EMOTION_LIKE_CALC")}else if(t=="change"){BXRL[e].buttonText.innerHTML=BX.message("RATING_LIKE_EMOTION_"+n.toUpperCase()+"_CALC")}else{BXRL[e].buttonText.innerHTML=BX.message("RATING_LIKE_EMOTION_"+i.toUpperCase()+"_CALC")}}}if(a&&t!="change"&&BXRL[e].version==2){BXRL[e].topUsersText.innerHTML=BXRL.render.getTopUsersText({you:t=="cancel",top:a.TOP,more:a.MORE})}}});return false};RatingLike.List=function(e,t,i,n){if(parseInt(BXRL[e].countText.innerHTML)==0){return false}i=BX.type.isNotEmptyString(i)?i:"";if(t==null){t=BXRL[e].version==2?typeof BXRL.render.popupPagesList[i]!="undefined"?BXRL.render.popupPagesList[i]:1:BXRL[e].popupContentPage}if(n&&t==1&&BXRL[e].version==2){BXRL.render.clearPopupContent({likeId:e})}BX.ajax({url:BXRL[e].pathToAjax,method:"POST",dataType:"json",data:{RATING_VOTE_LIST:"Y",RATING_VOTE_TYPE_ID:BXRL[e].entityTypeId,RATING_VOTE_ENTITY_ID:BXRL[e].entityId,RATING_VOTE_LIST_PAGE:t,RATING_VOTE_REACTION:i=="all"?"":i,PATH_TO_USER_PROFILE:BXRL[e].pathToUserProfile,sessid:BX.bitrix_sessid()},onsuccess:function(o){BXRL[e].countText.innerHTML=o.items_all;if(parseInt(o.items_page)==0){return false}if(BXRL[e].version==2){BXRL.render.buildPopupContent({likeId:e,reaction:i,rating:BXRL[e],page:t,data:o,clear:n});BXRL[e].topPanel.setAttribute("data-popup","Y")}else{if(t==1){BXRL[e].popupContent.innerHTML="";spanTag0=document.createElement("span");spanTag0.className="bx-ilike-bottom_scroll";BXRL[e].popupContent.appendChild(spanTag0)}BXRL[e].popupContentPage+=1;var a=null;for(var s=0;s<o.items.length;s++){if(o.items[s]["PHOTO_SRC"].length>0){a=BX.create("IMG",{attrs:{src:o.items[s]["PHOTO_SRC"]},props:{className:"bx-ilike-popup-avatar-img"}})}else{a=BX.create("IMG",{attrs:{src:"/bitrix/images/main/blank.gif"},props:{className:"bx-ilike-popup-avatar-img bx-ilike-popup-avatar-img-default"}})}BXRL[e].popupContent.appendChild(BX.create("A",{attrs:{href:o.items[s]["URL"],target:"_blank"},props:{className:"bx-ilike-popup-img"+(!!o.items[s]["USER_TYPE"]?" bx-ilike-popup-img-"+o.items[s]["USER_TYPE"]:"")},children:[BX.create("SPAN",{props:{className:"bx-ilike-popup-avatar-new"},children:[a,BX.create("SPAN",{props:{className:"bx-ilike-popup-avatar-status-icon"}})]}),BX.create("SPAN",{props:{className:"bx-ilike-popup-name-new"},html:o.items[s]["FULL_NAME"]})]}))}}RatingLike.AdjustWindow(e);RatingLike.PopupScroll(e)},onfailure:function(e){}});return false};RatingLike.AdjustWindow=function(e){if(BXRL[e].popup!=null){BXRL[e].popup.bindOptions.forceBindPosition=true;BXRL[e].popup.adjustPosition();BXRL[e].popup.bindOptions.forceBindPosition=false}};RatingLike.PopupScroll=function(e){var t=BX.findChildren(BXRL[e].popupContent,{className:"bx-ilike-popup-content"},true);if(t.length<=0){t=[BXRL[e].popupContent]}var i=null;for(var n=0;n<t.length;n++){i=t[n];BX.bind(i,"scroll",function(){if(this.scrollTop>(this.scrollHeight-this.offsetHeight)/1.5){RatingLike.List(e,null,BXRL[e].version==2?BXRL.render.popupCurrentReaction:false);BX.unbindAll(this)}})}};RatingLike.setParams=function(e){if(typeof e!="undefined"){if(typeof e.pathToUserProfile!="undefined"){BXRLParams.pathToUserProfile=e.pathToUserProfile}}};